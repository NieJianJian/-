### keep

1. 进程和线程的区别，为什么要定义这样的概念。
2. hash表是什么样的数据结构，如何避免哈希碰撞？
3. 软件oom如何来解决的？
4. LeakCanary的源码，如何判断Activity有没有被释放，实例有没有被销毁。
5. 对Android做过哪些兼容性的适配。
6. RelativeLayout和ContraintLayout
7. 启动时间优化有些操作拿到子线程，可以拿到子线程中做的还需要考虑些什么其他的。
8. 多线程在处理CPU密集型和IO密集型，有什么需要注意的。线程池来完成，任务有什么区别。有什么业务场景，有什么解决方案
9. 根据前序遍历和中序遍历，还原二叉树

***

***

***

### 货拉拉

1. framework主要做什么内容，android系统打包处理有了解过吗？开发出来之后怎么运行到设备上？fastboot的合入？其他代码的修改？
2. 介绍下jmm，一个方法的执行，伴随着内存中的哪些操作？栈帧中包含什么内容？栈帧会造成oom吗？方法区会造成oom吗？
3. JMM不同的模块，是以什么单位区分的？线程为单位还是进程为单位？
4. android开启一个空的进程，占用多少内存？
5. gc了解过吗，简单讲一下。eden和s1，s2的内存分配比例是多少？
6. 内存收集有哪些算法？新生代用的什么算法？老年代用的什么算法？
7. 新生代和老年代的比例是多少？（1：2）
8. java对应的四种引用类型，他们的区别是什么？弱引用在android中有哪些地方会使用？（我回答handler通过弱引用持有外部的activity）。handler为什么使用弱引用，而不使用软引用或者虚引用？虚引用有什么特点？
9. 泛型在什么场景下使用？可以用在类上吗？可以用在方法上吗？可以用在变量上吗？
10. 泛型的上下通界符，上通界符super有什么特点？
11. 内部类有哪几种类型？他们的特点和使用场景？静态内部类为什么可以解决内存泄露的问题？
12. 匿名内部类引用的局部变量为什么要定义成final。（内存中重新创造了一个对象，拷贝）
13. 讲讲java多线程（我讲到了三大特性）。volatile解决哪些问题？为什么可以解决？加锁可以解决哪些问题？加锁会造成死锁吗？
14. 线程通讯都有哪几种方式？（我回答handler、handlerthread；wait，notify）
15. 讲讲生产者消费者模型？模型的核心是什么？（我回答是wait和notify。面试官觉得是存放数组的list，list提供了数据缓冲区）
16. 讲讲handler。post、send、obtain，最终调用哪个方法？了解消息屏障吗？消息屏障解决了什么问题？
17. recyclerview有几级缓存？RecyclerPool了解过吗？
18. 聊一下LruCache。（LinkedHashMap等）
19. 聊一下动画的实现？补间动画view移动后，点击哪里可以触发点击事件。源码是如何实现这种效果的？了解Matrix
20. 两个app，同一个包名，可以安装在一个手机上吗？或者说，怎么安装到手机上？（主要问安装app的一些限制）app如何实现双开？（面试官讲到了packid和packname）
21. 代码如何变成apk的？即android的编译过程。res打包文件通过哪个工具做的（aapt）？打包apk是通过什么工具做的（apkbuilder）？打包dex为什么要分包？为什么会有65535限制？63356除了针对方法数量，还用于其他限制吗（方法名，变量名等）？
22. 二叉树查找有哪几种方式？（我回答bfs和dfs）（面试官说是循环和迭代）。迭代会造成oom吗？
23. python的元祖是用什么符号去做的？
24. scrapy爬虫脚本的模块有哪些知道吗？有遇到过反扒测试吗？异步加载什么解决？
25. 有做过ndk方向的so开发吗？

***

### 立达智胜

1. 对handler的理解？MessageQueue的数据结构是什么？handler添加一个消息，是什么时候将消息添加到队列的？
2. post一个200ms的消息，然后post一个100ms的消息，是怎么插入的？如何插入到队列的？（面试官说MessageQueue是一个单链表的结构）。
3. loop执行循环，next取到消息之后，怎么处理？dispatchMessage有几次判断
4. Message消息分为几种，同步消息和异步消息的区别，异步消息在什么线程处理？
5. 你项目中的自定义view重写了哪些方法
6. 动画的分类，属性动画的插值器和估值器是什么配合工作的
7. mvp的优缺点，和mvc的差别，mvp和哪一层和哪一层解耦？mvp的缺点，有没有遇到内存泄露。
8. 现在什么些布局？相对布局还是约束布局？如何实现两个控件并排摆放，三个间距相等？

***

***

***

### ps：电话直接面试，未听清什么企业

1. 讲讲多线程
2. synchronized和lock的区别
3. volatile如何实现可见性
4. atomic原子类内部是如何实现的
5. 悲观锁和乐观锁的区别，以及哪些代表悲观锁和乐观锁？锁自旋
6. spingboot mvc模式
7. 事件分发
8. 如何实现首页引导蒙层，如何实现蒙层特殊位置点击。

***

***

***

### 优贝在线笔试

1. 如何获取view的宽高，和动态修改view的宽高
2. 匿名内部类可以extends或者implement一个接口吗？
3. class<T> 类中实现一个方法返回T的真实类型
4. MVP和MVC的区别，已经MVP的优点
5. 将二维数组顺时针旋转90度
6. 随机生成1-100的整数，并且不重复。

***

### 优贝在线一面

1. handler的实现原理，异步消息了解吗？异步消息和ui刷新有关系。
2. invalidate多次调用会有问题吗？多次调用会绘制多次吗？
3. activity的onresume方法拿view的宽高拿不到，是为什么？如何在onresume中获取view宽高？（我回答setMeasure，以及设置Observer监听）（面试官讲到post(Runnable)，原理是什么？）
4. 性能优化做过卡顿的优化、卡顿的收集。（我说做过启动优化，面试官接着问启动优化）
5. Binder的实现原理，方法调用是在主线程还是子线程？
6. 内存优化有做过吗？（我回答做过内存泄露）
7. 代理模式。静态代理和动态代理的区别？
8. 装饰者模式
9. 设计模式有特别熟悉的吗？
10. 单例什么实现？dcl为什么要两次判空？volatile关键字有什么作用？
11. builder模式的优势？
12. 线程池的实现原理？
13. volatile可以解决i++操作的线程安全吗？想实现i++的线程安全怎么操作？CAS的原理，对象的属性操作怎么实现原子性？（我回答变量拼接）（面试官说有AtomicReference）
14. 引用类型。weakreference有用到吗？图片缓存为什么用软引用？软引用会导致oom吗？
15. hashmap的结构和原理？1.8变成红黑树的原理
16. currenthashmap的原理？（面试官说老版本是分段锁，新版本不是了）

### 优贝在线二面

1. 全链路日志怎么做的？日志在内存中写入到文件之前，进程杀死，怎么保存？如何防止进程意外停止场景下的日志丢失？
2. 如何检测线上的内存泄露监控？有没有测试阶段监测内存泄露？（我回答自动化测试模拟重复点击，监测内存增长，捞取内存文件，mat分析）。四种引用类型，虚引用是干什么的？有一个引用队列是干什么用的？从引用队列角度来讲，有办法做内存检测的sdk吗？
3. websocket协议是什么样的？有监控连接成功率吗？
4. synchronized是可重入锁吗？可重入指什么意思？还有其他加锁方式吗？（我回答lock）面试官追问lock是接口，具体实现是什么？（我回答ReentrantLock），面试官问除了ReentrantLock还用过其他的吗？其他的加锁方式api还有哪些？
5. volatile是干什么用的？可见性是什么意思？除了volatile还有其他实现可见性的方式吗？（我回答加锁，final），面试官追问还有其他的吗？
6. 如何用不加锁的方式实现单例？（我回答静态单例）。面试官问如果不加锁，实现懒加载的单例？（我回答静态单例也是懒加载）。静态单例为什么是线程安全的？为什么静态单例没有内存可见性问题？cinit类构造函数底层的加锁怎么实现？
7. handler内部是如何解决内存可见性的问题的？
8. 线程池内部如何解决内存可见性的问题的？有没有自己封装过线程池？
9. 如何实现一个无锁队列？
10. java8 接口可以有默认实现，是如何解决多继承问题的？Java8为什么要添加接口默认实现功能？android中可以使用接口默认实现的多继承吗？
11. kotlin了解吗？
12. hashmap的查找时间复杂度是多少？hash冲突了呢？ArrayMap的查找时间复杂度是多少？什么时候应该用Hashmap，什么时候应该用ArrayMap？
13. 拓扑排序是用来解决什么问题的？
14. 如何用非递归的方式给二叉树做中序遍历？
15. 访问者模式是用来解决什么问题的？java是单分派还是双分派的语言？（面试官说java是单分派，如果你了解单分派和双分派是什么意思，可能就知道访问者模式是来解决什么问题了）
16. 桥接者模式？android哪些地方用到了桥接者模式？
17. 工厂模式分为抽象工厂、简单工厂、工厂方法，这三个有什么区别？
18. aidl实现进程间通讯，数据量大小有限制吗？
19. recylerview有几层缓存？我们可以自定义缓存吗？
20. http2.0的多路复用和http1.1的keepalive链接保持有什么区别？

***

***

***

### 青子未来笔试

1. 有一个数组ROOT[n]，数组的元素类型为Node，每个Node包含一个字段index，用来表示自己所在的ROOT位置标号，包含一个字段next，用来表示自己引用的下一级Node。Next可能指向自身，也可能指向一个新的孤立的Node（并非ROOT中的Node），也可能指向其他ROOT里的Node，这样每个ROOT下面都可能形成一个单向的Node分支链表，并且可能行程循环链表。请实现代码删除ROOT中所有下级的Node没有被其他ROOT下的Node引用的节点（可以用ROOT[n] = null设置为删除）

2. 假设一个函数 bool testAndSet(int value, int target, int before)（不需要自己实现）可以线程安全的比较value值是否为before，如果是的话就设置为target，同时返回true，否则不设置值并且返回false。请基于此函数实现一个长度不超过100的线程安全的Queue（包含pop和push，不能使用synchronized/lock/mutex/atomic等关键字/类，可以使用volatile）

3. 函数A会返回范围在1 - INT_MAX的单个数字，返回的数字会大致随着调用次数的增加增大，不会重复返回相同的数字，虽然返回值不断增大，但是两次调用之间的返回值并不严格保证递增的顺序，会有一定概率变小，比如正常为1，2，3，4，5，6，7，8，9这样返回，但是也可能1，2，3，5，7，6，4，8，9这样返回。下一个函数B，里面持续接受函数A的返回值，当接受到数字后，严格按顺序打印出未打印过的最小值。比如收到1，2，5，6，4，8后，应该打印1，2，当后面收到3后，打印3，4，5，6，然后再收到7hi欧，打印7，8，总是打印最小的值

4. 一个数组，里面全是数组，从左到右的特征是：从小到大，然后从大到小，数组中可能出现连续重复的数组，请写一段代码最快找出数组中最大的值（可能为1到多个）

   比如数组[1,3,3,3,4,5,6,7,8,8,8,8,8,9,10,10,11,11,12,23,33,33,10,2,2,2,2,2,2,1,1]

5. 有一个由0-9组成的十进制的数组，例如：28373288128383，请写一段代码实现从数组转换成A-Za-Z 52个字表达的52进制的字符串，其中A到Z分别表示0-25，a到z分别表示26到51

6. 讲一讲view事件的原理（回答vsync信号的机制）

***

***

***

### 去哪儿

1. 单例模式为什么要用volatile关键字？
2. 代理模式项目开发中有用过吗？
3. 事件分发的流程。子view消费了down事件后，后续的事件也会传递给它，底层是如何实现的？
4. view是一个disbale的状态，它可以消费事件吗？
5. ontouchlistener和onclick的优先级
6. invalidate和postinvalidate的区别
7. 点击事件如何传递到activity上的
8. 性能优化做过哪些？
9. Glide了解过吗？
10. java集合。有了解过android特有的集合？
11. hashmap
12. 讲一下线程池。常见的线程池有哪些？
13. 两个栈实现一个队列

***

***

***

### 融云

1. 用过什么设计模式？
2. 手写双重检测单例。两层判空的含义？第二层判空不要行不行？synchronized可以保证几个特性？是否可以解决有序性？为什么可以解决有序性，还需要加volatile？（synchronized可以保证在单线程下不管怎么执行，执行结果是正常）不用volatile会有什么问题？
3. java1.6 synchronized锁升级的过程？无锁->偏向锁->轻量级锁->重量级锁
4. synchronized可以在几个地方使用？静态方法、普通方法、代码块，这三个地方使用有什么区别？（面试官说功能上来看代码块更灵活，底层字节码来看，同步方式是ACC_SYNCHRONIZED，同步代码块是用monitor）
5. 如何知道哪个线程可以重入到锁代码块内？（我回答对象头）类锁，没有对象的概念，锁存在哪里？
6. FrameLayout包含了一个Button，两者都实现了onclick监听。场景1，button按下，滑动到buttong外围，up；场景2，button按下，滑动到button外围，再滑动回button，up。上述两个场景，谁来消费onclick事件。（答案是都不执行，down消费后，设置标识位true，move到外围之后，标识位设为false，即使我再次滑动回来，标识位也不会设置为true，所以只要除了button，标识位就是false，则不会触发。实际应用场景，支付点击确定，滑动到外围，就不会执行支付步骤）
7. jni开发做过什么？aidl的oneway关键字是用来干什么的？参数上in、out有什么作用？binder用的多不多？
8. 如何处理内存泄露？LeakCanary的原理？LeakCanary能不能在线上使用？会有什么问题？（ondestory的会gc两次，gc会把线程停掉；dump内存是，也需要把其他线程停掉）。如何线上监测内存泄露？（我回答线上监测内存使用率）。如何解决dump内存的性能开销？如何解决线上dump内存造成的卡顿？线上dump的内存大小取决于对象的数量，一般有300-400M，如何过滤内存的信息，哪些可以裁剪掉？
9. 什么情况下会发生oom？除了堆内存不足，有没有其他情况也会发生oom？（我回答了除了程序计数器之外都会，面试官补充了线程数超上限、fd超上限）。方法区的大小是由什么决定的？jvm分为哪几个区？jdk8方法区变为元数据区，有什么影响吗？
10. 做过编译期插桩吗？asm等框架用过吗？Activity的插件化什么是样的原理？插件化占坑activity和targetactivity更换前后的hook点有哪些？Hook点的选择有什么规律？如果有多个hook点，如何选择？
11. Service如何实现插件化？BroadcastReceiver如何实现插件化？
12. 如何判断哪些Activity需要hook，哪些不需要？（我回答白名单。面试官说可以判断包名）
13. app是32位的，运行在一个32位的手机上，内存的限制在哪里？比如说发生内存泄露，限制的大小在哪里？
14. 了解过虚拟内存吗？虚拟内存是为了解决什么问题？32位的虚拟内存是多大？虚拟内存的分布知道吗？（面试官说虚拟内存内核占了1个G，其他的占了3个G。32位的app在32位的设备上运行，最大的限制不是在于内存，而是在于内存地址不够用，4个G的内存地址不够用，这是最大的瓶颈。16g的内存，总是app运行几百M就oom了，最大的问题是内存地址不够用，还没到拼内存的时候。如果是64位的操作系统+64G的内存，它的限制就在于物理内存是否够大）
15. 400M的高清大图，不压缩，如何展示，并且不让他发生oom？（面试官说图片分区域展示，移动加载多余的部分，android7不是放在java堆了，放到native层了）
16. im群，有一万个人，会遇到什么问题？怎么解决？（我回答服务端的压力很大）服务端有什么压力？（我回答保持一万个连接，防止断链，重连，以及及时性的问题）。微信假设每时每刻都有1000万人在线，那就是1000万个长连接，那不是压力更大吗？
17. 10000个人的群，支持已读回执，每个人都可以看到每条信息的已读回执。这种场景会有什么问题，怎么解决？
18. 10000个人的群，A用户是否记录其他9999个人的名字、头像等用户信息？B用户改了名字或者头像，怎么更新，合适更新？
19. A用户给B用户发送1G的文件，如何提升用户体验？
20. 中间人攻击的过程是什么？如何防止中间人攻击？中间人攻击一般出现在什么场景下，什么过程？
21. tls/ssl的握手过程。

***

### 融云二面

1. websocket和http的区别
2. websocket的使用场景，有心跳吗？
3. xml的解析，数据量比较大，用什么方式效率会更高？
4. java多线程
5. synchronized和lock
6. jni做过什么？
7. 加密盐在什么场景用？
8. 如何保证客户端接口安全？（加密算法是什么）
9. android端安全性的处理
10. 如何排查用户反馈的线上问题？
11. 客户端请求发出去了，服务端说没有收到请求，如何排查？哪里可能出现问题？
12. 抓包工具用过吗？charles如何抓取https的原始请求？如何保证在低端手机上https的数据安全？
13. tcp三次握手和四次挥手的过程
14. 对称加密和非对称加密都有哪些常用的算法？对称和非对称有什么区别？
15. 项目中哪里用到了base64
16. 如何让线程3的执行 等待线程2和线程1的执行结果？（CountDownLatch）
17. 用过数据库吗？
18. 服务器下载大文件，如何断点下载

***

***

***

### 一点资讯

1. apk内部由什么组成的？
2. apk的冷启动流程？如何统计启动时长？
3. 图片如何压缩？去哪些网站？
4. IOC和AOP了解吗？
5. handler主要是用来解决什么问题？
6. NDK开发了解吗？开发步骤是什么？有什么需要注意的？怎么生成so文件？
7. 什么时候用到反射？怎么利用反射获取一个类的方法？API是什么？
8. 枚举的特点是什么？为什么要用枚举？
9. 泛型，作用是什么，为什么要用泛型？
10. 什么时候用线程池？（我回答启动app要用线程池）面试官问为什么启动app要用线程池，直接用子线程不行吗？
11. 线程关闭的方式？interrupt()、isInterrupted()、interrupted()它们三个都有什么作用？
12. ReentrantLock用过吗？主要是干什么用的？api有哪些？定时锁用到过吗？
13. hashmap的原理是什么？有没有考虑过hash碰撞的问题？hashmap是线程安全的吗？多线程访问会有什么问题？（我回答链表循环）什么情况会出现链表循环的问题？
14. rxjava了解过吗？
15. retrofit用过吗？
16. contentprovider用过吗？
17. binder的机制是什么？aidl具体的通讯步骤，具体实现是什么？
18. 设计模式有哪些？六大开发原则？

***

***

***

### 天眼查一面

1. hashmap的数据结构，版本差异？默认容量大小是多少？假设传3，容量值是多大？如何扩容？如何使用一个线程安全的map结构？

   hashtable和currentHashMap如何实现的线程安全？（我回答分段锁）面试官问，分段锁是哪个java版本？

2. volatile有什么作用？单例的时候，不添加volatile会有什么问题？

3. android有哪些定制的map？ArrayMap和SparseArray有了解过吗？

4. view.post(Runnnble)可以拿到宽高的原理。

5. handler的消息delay是怎么实现的？loop如何处理即将到来的消息？什么是同步屏障？每个线程如何保证只有一个looper？

6. ThreadLocal详细讲一下？具体的数据结构是在哪里存放的？（Thread中存放的）

7. A启动B的生命周期？A的onStop一定会执行吗？

8. setContentView里面做了些什么？

9. VewRootImpl、PhoneWindow、DecorView他们三个分别担任什么角色

10. 动画有哪几种？属性动画有哪些开发方式？属性动画为什么要实现get、set方法？属性动画底层如何使用set、get方法的？插值器和估值器是什么？

11. android的绘制流程。

12. MeasureSpec有哪几种？每种都是怎么处理的？

13. 自定义控件中，requestLayout和invalidate有什么区别？（我回答requestlayout每次调用都会执行绘制流程）面试官继续追问，每次都会执行onMeasure、onLayout、onDraw吗？requestLayout是同步执行的吗？执行之后可以直接拿到宽高吗？（view的位置和大小没有变化，并且view不处于动画当中，就不会执行performDraw方法进行绘制）

14. requestLayout会触发几次onMeasure？（不同的布局，次数不一样）

15. 如何绘制一个表盘的12个刻度线？

16. recyclerview的四级缓存。setHasFixedSize()、hasStableIds() 有什么用。Recyclerview的更新MergeAdapter了解过吗？

17. 了解哪些三方框架？LeakCanary是怎么集成的？以前是需要在Application中执行install方法，新的版本什么也不用做，是怎么实现依赖的？

***

### 天眼查二面

1. 广播和EventBus有什么区别，以及开发过程中如何选择？广播静态注册和动态注册有什么区别？如何限制广播的接收方（广播可以跨进程通讯，如何防止无关的app接受我们的广播）？
2. modulelibrary、aar、jar包的区别？依赖方式有哪些？api、implementation、compileOnly的区别？
3. 两个aar组件，都依赖了json包，如何防止编译冲突？如何定位冲突的jar包？（我回答as有提示信息）
4. 编译module的时候，如何防止资源名称相同？xml布局冲突和资源文件冲突，提示是一样的吗？如何提前规避，而不是出现冲突再去解决？（build.gradle文件中通过resourcePrefix配置资源前缀）
5. 如何引用插件化中的资源（app外部资源）？ClassLoader怎么加载dex？（面试官提示AssetManager）
6. 有做过原生和webview交互场景吗？如何交互？webview使用过程中，有什么需要注意的事项？（安全等保漏洞、内存泄露、重定向屏蔽、如何做一些文件的支持）
7. 如何扩大button的点击范围？（TouchDelegate）
8. 换肤框架是如何解析成别的颜色？也就是说Button原来是白色，怎么变成红色？xml布局如何解析成view的？如何标记一个view是否需要换肤，系统如何知道哪个控件需要换肤？（LayoutInflater.Factory）
9. 多进程开发有哪些需要注意的？(我回答通讯方式，application初始化，sp的使用，面试官提示权限、单例)。
10. 进程间的通讯方式有哪些？
11. 什么是ANR？怎么发生的？（我回答埋炸弹）input事件输入触发anr也是通过埋炸弹的形式吗？ANR分为哪些常见的类型？（死锁、超时）平时如何通过trace日志分析ANR？（面试官提示：当前anr的cpu和内存占用量。如何cpu占满了，因为cpu是一个抢占的，是不是发生了死锁，关键字排查wait to lock，然后去查找锁使用栈）
12. 友盟和bugly如何实现崩溃统计的？平时接触过native层的崩溃吗？如何分析？
13. apk的编译流程
14. android 10、11、12有做什么了解吗？android 11需要做什么处理？
15. 两个int在不引入其他变量的场景下，如何实现数据交换？（我答的是数据计算，面试官的方案是位运算）
16. 算法题：合并两个有序数组
17. 算法题：二叉树的前序遍历，用非递归的形式实现。

***

***

***

### 映客直播

1. tinker的原理是什么？安装的原理是什么？旧dex和补丁dex如何合并的？
2. 做项目中有遇到什么难点吗？比较麻烦的？
3. 启动优化怎么做的？（我回答打log时间点）如何确认哪些耗时可以优化掉放到子线程？（我回答对业务的熟悉程度）新上手一个大项目，没有时间对项目进行熟悉，怎么快速的做启动优化？
4. activity、service、application和context的联系？ContextImpl和ContextWrapper有什么区别？activity、service、application启动activity一样吗？（我回答application需要FLAG_ACTIVITY_NEW_TASK）用了FLAG_ACTIVITY_NEW_TASK就一定会创建新的任务栈吗？（我回答不是，和taskAffinity相关）
5. singletop和singletask的区别？如何做的栈顶复用？
6. activity是如何启动的？AMS收到你要启动Activity的请求后做什么？
7. braodcast有几种形式？静态广播和动态广播有什么区别？有序广播是接受有序还是发送有序？优先级一样如何传递？动态广播和静态广播优先级一致，哪个先收到？
8. toast是一个view吗？toast显示和绘制的流程？和普通的setContentView有什么区别？
9. ANR是怎么产生的？每个场景产生的时间是多少？Activity主线程做耗时操作超过5s，一定会触发anr吗？能拿到线上ANR的日志吗？如何实现一个简易版的监控ANR工具？（我回答handler的消息间隔）
10. 主线程的handler对应的looper是在哪里创建的？
11. ActivityThread的职责？ActivityThread是被谁调用的？
12. MessageQueue的数据结构是什么？内部的消息队列是如何维护的？添加消息的时间复杂度是O(n)吗？取消息的时候时间复杂度是多少？
13. 怎么计算一张图片占用的内存？同一张图片在不同的机型占用的内存是一样的吗？
14. java的死锁是怎么产生的？如何避免死锁？
15. java的锁了解多少？可重入锁？
16. hashmap的基础数据结构？put和get的工作原理？扩容具体做了什么？hash函数是怎么设计的？hashmap长度为什么要是2的n次幂？
17. 内存模型的划分是什么？
18. gc如何定位垃圾对象？gc的算法有哪些？新生代和老年代是如何定义的？新生代和老年代分别是存放什么的？

***

***

***

### 美团打车

1. 手写DCL单例
2. int a = 1; int b =2; int c = a + b; 这三行代码会不会重排序，可能性有哪几种？
3. volatile
4. volatile int a = 1; int b = a + 1; c = a +1; 第二行和第三行分别在不同的线程中执行，会有线程安全问题吗？
5. volatile int a = 1; int a = a + 1; a = a +2; 第二行和第三行分别在不同的线程中执行，会有线程安全问题吗？
6. sleep和wait的区别是什么？会释放锁吗，会释放cpu资源吗？
7. requestlayout和invalidate的区别是什么？
8. 内存泄露
9. 二叉树层序遍历，s形

***

***

***

### 京东

1. jvm的内存模型
2. StringBuffer和StringBuilder的区别
3. 事件分发机制
4. 线程池的核心参数和原理。
5. 如何保证线程安全？
6. CAS和AQS
7. ReentrantLock和CountDownLatch
8. synchronized底层实现
9. websocket和socket的区别
10. 网页访问京东的主页，整个网络请求的流程
11. tinker的源码看过吗？tinker生效需要重启吗？
12. 多进程的创建方式？多进程的实现方案和单进程的区别？
13. Binder的工作原理
14. aidl中用于修饰方法的关键字有哪些？oneway的作用
15. handler的原理和工作流程？post和sendMessage的区别？
16. 热更新插件化了解吗？
17. 内存泄露？LeakCanary的源码
18. 还用过什么第三方框架？
19. okhttp的拦截器
20. 如何快速找到两个子view最相近的父view
21. 服务器怎么部署的？
22. 设计原则了解多少？里氏替换的理解？依赖倒置的理解？

***

***

***

### 陌陌

1. 做一个新的app是一个什么样的架构？组件化之间如何通讯？
2. mvvm有了解过吗？
3. rxjava用过吗？平时怎么处理异步任务？（我回答AsyncTask）AsyncTask容易造成内存泄露，怎么产生的？如何避免？
4. 针对CPU密集型和IO密集型的任务，分别设计线程池？（我提到了IO任务执行慢）IO任务执行慢的瓶颈是什么？
5. 自定义view的绘制流程？
6. jni开发了解过吗？
7. hashmap的底层实现原理？链表如果比较长会怎么样？hashcode取模的具体细节是什么？长度有什么规律吗？为什么扩容要翻倍？
8. tcp的报文包含什么？tcp是如何进行连接的？三次握手的过程？断开连接的过程是什么？
9. kotlin用过吗？
10. 数据库了解吗？索引是干什么用的？
11. 代码设计题：早上起床要做事情，可能是吃早饭、洗漱、或者看电视，不确定做什么。考虑后期的拓展，简介易用。（面试官提示 抽象 + list）

***

***

***

